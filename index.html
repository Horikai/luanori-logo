<!doctype html>
<html lang="en">

<head>
  <!-- https://vitejs.dev/logo.svg-->
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="https://vitejs.dev/logo.svg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="common.css" />
  <link rel="stylesheet" type="text/css" href="https://tmp.nulla.top/ba-logo/fonts/RoGSans_sliced/font.css" />
  <link rel="stylesheet" type="text/css" href="fonts/GlowSans/font.css" />
  <title>Blue Archive Logo Generater</title>

<style>
    .custom-toast {
        position: fixed;
        padding: 15px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 5px;
        color: white;
        display: none;
        z-index: 9999;
    }

    .alert-success {
        background-color: #28a745;
    }

    .alert-danger {
        background-color: #dc3545;
    }

    .nsotien_logo {
        height: 120px;
        width: auto;
    }

    @media only screen and (max-width: 768px) {
        .nsotien_logo {
            height: 70px;
        }
    }

    .mt-3 a:hover {
        color: white;
        background-color: red;
        border-color: red;
    }

    /*.header-logo {
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        border-radius: 10px;
        max-height: 100%;
        max-width: 100%;
    }*/

    /* Cấu hình mặc định cho logo */
.header-logo {
    width: 30%; /* Kích thước mặc định là 30% */
    max-width: 300px; /* Đảm bảo logo không quá lớn */
    height: auto; /* Giữ tỉ lệ chiều cao và chiều rộng */
}

/* Khi màn hình nhỏ hơn hoặc bằng 768px (tablet, mobile) */
@media (max-width: 768px) {
    .header-logo {
        width: 60%; /* Giảm kích thước xuống 50% trên thiết bị di động */
    }
}

/* Khi màn hình nhỏ hơn hoặc bằng 480px (smartphone nhỏ) */
@media (max-width: 480px) {
    .header-logo {
        width: 70%; /* Kích thước logo là 70% trên smartphone nhỏ */
    }
}

/* Cấu hình chung cho khối thông báo */
.mt-4 {
    margin-top: 1rem;  /* Khoảng cách trên của phần tử */
}

.flex {
    display: flex; /* Sử dụng flexbox để căn chỉnh các phần tử con */
    align-items: center; /* Căn giữa theo chiều dọc */
    justify-content: flex-start; /* Căn trái các phần tử con */
}

.items-center {
    align-items: center; /* Căn giữa các phần tử con theo chiều dọc */
}

.rounded-lg {
    border-radius: 0.5rem; /* Bo góc các phần tử */
}

.bg-white {
    background-color: #ffffff; /* Màu nền trắng */
}

.px-3 {
    padding-left: 1rem; /* Padding cho bên trái */
    padding-right: 1rem; /* Padding cho bên phải */
}

.py-3 {
    padding-top: 1rem; /* Padding cho bên trên */
    padding-bottom: 1rem; /* Padding cho bên dưới */
}

.shadow-lg {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Đổ bóng cho phần tử */
}

/* Kiểu cho icon thông báo */
.text-primary {
    color: #007bff; /* Màu sắc chủ đạo cho icon */
}

.me-2 {
    margin-right: 0.5rem; /* Khoảng cách bên phải của icon */
}

/* Kiểu cho marquee */
marquee {
    font-family: 'Arial', sans-serif; /* Chọn font cho marquee */
    font-size: 14px; /* Kích thước chữ */
    color: #333; /* Màu chữ chung */
    white-space: nowrap; /* Ngừng ngắt dòng */
    overflow: hidden; /* Ẩn phần chữ vượt quá phạm vi */
}

/* Tạo hiệu ứng cho phần văn bản đặc biệt */
.text-danger-600 {
    color: #e74c3c; /* Màu đỏ tươi cho văn bản quan trọng */
}

.font-bold {
    font-weight: bold; /* Đậm chữ */
}
    .custom-success-alert {
        background-color: #4CAF50 !important;
        color: white !important;
        padding: 10px !important;
        text-align: center !important;
        border-radius: 5px;
    }

    .alert.alert-danger.alert-block {
        background: none;
        border-color: transparent;
        text-align: center;
    }

    /*a {*/
    /*    margin: 5px;*/
    /*}*/

    svg {
        width: 30px;
        height: 30px;
    }

    .age-rule a {
        background-color: #B4E3FF;
        color: #F4FFFF !important;
        border-radius: 10px !important;
        text-align: center;
        max-width: 10%;
        margin: 5px auto;
        padding: 5px 10px;
    }

    .age-rule a:hover {
        background-color: #ffcc99;
        color: #F4FFFF !important;
    }

    .page-layout-color {
        background: #b3afaf url("/Assets/Images/bg-auth.jpg");
        background-size: cover;
        background-attachment: fixed;
        height: auto;
    }

    #serverModal a#serverTeamButton {
        width: 100% !important;

        margin-bottom: 10px !important;

        align-items: flex-start !important;
        background-color: #8f34f5 !important;
        border-color: #8f34f5 !important;
        border-radius: 10px !important;
        color: #ffffff !important;
        display: inline-block !important;
        font-family: system-ui !important;
        font-size: 14px !important;
        line-height: 21px !important;
        margin: 10px 0px 0px !important;
        text-align: center !important;
    }

    #serverModal a#serverTeamButton:hover {
        background-color: #FF418C !important;
        border-color: #FF418C !important;
    }

    #serverModal .mt-2 {
        color: #212529 !important;
        font-weight: 600 !important;
        line-height: 24px !important;
        margin: 8px 0px 0px !important;
        text-align: center !important;
    }

    #serverModal .mb-2 {
        color: #212529 !important;
        font-weight: 600 !important;
        line-height: 30px !important;
        margin: 0px 0px 8px !important;
        text-align: center !important;
    }

    #serverModal .text-center {
        color: #212529 !important;
        font-weight: 300 !important;
        line-height: 24px !important;
        text-align: center !important;
    }

    #serverModal img.logo {
        color: #212529 !important;
        display: inline !important;
        font-weight: 300 !important;
        line-height: 24px !important;
        text-align: center !important;
    }

    #serverModal .modal-body {

        outline: 2px solid #000;
        border-radius: 10px;

        background-color: #FCE3C6 !important;
        color: #212529 !important;
        font-weight: 300 !important;
        line-height: 24px !important;

    }

    #serverModal .modal-content {
        margin: 2px 127px;

    }

    #serverModal .modal-content p {
        margin: 9px 30px;
        line-height: 1.5;
    }

    #serverModal .modal-content h2 {
        margin: 9px 30px;
        line-height: 1.5;
    }


    #serverModal .modal-content font[color="#FF0000"] {
        color: #FF0000;
        font-weight: bold;

    }

    @media (min-width: 768px) and (max-width: 1024px) {

        #serverModal html,
        body {
            overflow: visible;
        }
    }

    @media (max-width: 767px) {

        #serverModal html,
        body {
            overflow: visible;
        }

        #serverModal .modal-body {
            margin: 0 -36px;

            text-align: center;
        }

        #serverModal .modal-content {
            margin: 4px 55px
        }

        #serverModal .modal-content p {
            margin: 32px 30px;
            line-height: 1.5;
        }

    }



</style>
  
</head>

<body>
  <header>
    <h1 class="i18n mt-24 mb-20 text-center font-bold" data-i18n="title">BlueArchive-Style Logo Generater</h1>
  </header>
  <section class="canvas-wrapper flex place-content-center">
    <div class="relative checkerboard">
      <canvas id="canvas" height="250" width="900"></canvas>
      <div id='loading' class="absolute w-full h-full top-0 left-0 backdrop-blur-sm bg-slate-400/5 z-50 hidden">
        <div class="flex place-content-center h-full">
          <span class="loading loading-spinner loading-lg mx-auto"></span>
        </div>
      </div>
    </div>

  </section>
  <section id="errorbox" class="flex place-content-center mt-8">
    <div class="errorbox relative p-4">
      <div id="errorbox-text">
        Error
      </div>
    </div>
  </section>
  <section class="w-full mx-auto my-6 flex flex-col sm:w-[32rem]">
    <div class="flex justify-center my-4 px-2">
      <input id="textL" type="text" placeholder="Type here" value="Blue"
        class="input input-bordered input-md input-primary mr-1 w-40 max-w-[14rem] flex-1" />
      <input id="textR" type="text" placeholder="Type here" value="Archive"
        class="input input-bordered input-md input-secondary ml-1 w-40 max-w-[14rem] flex-1" />
    </div>
    <div class="my-2">
      <label class="cursor-pointer label justify-start mx-10">
        <input type="checkbox" class="toggle toggle-primary" id="transparent" />
        <span class="i18n label-text text-base ml-4 mr-16" data-i18n="transparent-background">Transparent
          Background</span>
      </label>
    </div>
    <div class="mx-6 my-4">
      <div class="collapse collapse-arrow bg-base-100">
        <input type="checkbox" />
        <div class="i18n collapse-title font-medium" data-i18n="advance">Advance settings</div>
        <div class="collapse-content">
          <div class="i18n" data-i18n="halo-cross">Halo & Cross position</div>
          <div class="flex justify-evenly my-4">
            <span class="flex-1"><span class="mr-2">X</span><input type="number" placeholder="Type here" value="-18"
                class="input input-bordered input-sm input-primary w-32 mr-2" id="graphX" /></span>
            <span class="flex-1"><span class="mr-2">Y</span><input type="number" placeholder="Type here" value="0"
                class="input input-bordered input-sm input-primary w-32" id="graphY" /></span>
          </div>

          <label class="cursor-pointer label justify-start">
            <input type="checkbox" class="toggle toggle-primary" id="gloweffect" />
            <span class="i18n label-text text-base ml-4 mr-16" data-i18n="glow-effect"></span>
          </label>

          <label class="cursor-pointer label justify-start">
            <input type="checkbox" class="toggle toggle-primary" id="secondline" />
            <span class="i18n label-text text-base ml-4 mr-16" data-i18n="second-line">Is enabled</span>
          </label>
  
          <label class="cursor-pointer label justify-start">
            <input type="checkbox" class="toggle toggle-primary" id="secondlineclip" />
            <span class="i18n label-text text-base ml-4 mr-16" data-i18n="second-line-clip-switch">Clip area</span>
          </label>
  
          <label class="cursor-pointer label justify-start">
            <span class="i18n label-text text-base" data-i18n="second-line-fonts">Fonts</span>
            <input id="text2Fonts" type="text" placeholder="Fonts" value="RoGSanSrfStd-Bd, GlowSansSC-Normal-Heavy_diff, apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, sans-serif"
            class="input input-bordered input-md input-secondary ml-4" />
          </label>
  
            
          <input id="textS" type="text" placeholder="Second line text" value="second"
            class="input input-bordered input-md input-secondary " />
          <div class="flex justify-evenly my-4">
            <span class="flex-1"><span class="mr-2">X</span><input type="number" placeholder="Type here" value="100"
                class="input input-bordered input-sm input-primary w-32 mr-2" id="text2X" /></span>
            <span class="flex-1"><span class="mr-2">Y</span><input type="number" placeholder="Type here" value="32"
                class="input input-bordered input-sm input-primary w-32" id="text2Y" /></span>
          </div>

          <div>Debug</div>
          <label class="cursor-pointer label justify-start">
            <input type="checkbox" class="toggle toggle-primary" id="debugswitch" />
            <span class="i18n label-text text-base ml-4 mr-16" data-i18n="debug-switch"></span>
          </label>
        </div>
      </div>
    </div>
    <div class="flex justify-evenly my-4">
      <span><button class="i18n btn btn-primary" id="save" data-i18n="save">Save</button></span>
      <span><button class="i18n btn btn-primary" id="copy" data-i18n="copy">Copy</button></span>
    </div>
    <label class="swap cursor-default">
      <input type="checkbox" disabled id="message-switch" />
      <div class="alert alert-success swap-on">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span class="i18n font-medium" data-i18n="copy-success">Image copied</span>
      </div>
    </label>
  </section>
  <!-- <footer>
    <section class="w-full mx-auto my-8 sm:w-96 px-4">
      <h2 class="i18n text-2xl font-bold leading-loose" data-i18n="font-title">Used Fonts</h2>
      <ul class="list-disc leading-relaxed text-lg font-normal mb-8 px-6">
        <li>
          <span class="i18n" data-i18n="main-font">Main font: </span>
          <a href="https://www.morisawa.co.jp/fonts/specimen/1646" target="_blank">RoG2サンセリフStd B</a>
        </li>
        <li>
          <span class="i18n" data-i18n="fallback-font">Fallback font: </span>
          <a href="https://github.com/welai/glow-sans" target="_blank" class="i18n" data-i18n="glow">Wêlai Glow Sans</a>
        </li>
      </ul>
    </section>
    <section class="flex flex-col place-content-center my-16">
      <div class="flex place-content-center my-4">
        <a href="https://tmp.nulla.top/ba-logo/" target="_blank"
        class="text-md">this generator is based on nulla2011's BlueArchive-logo</a>
      </div>
      <div class="flex place-content-center">
        <a href="https://github.com/appleneko2001/bluearchive-logo" target="_blank"
        class="text-md">Mod created by github@appleneko2001</a>
        <span> - </span>
        <a href="https://github.com/Menci/bluearchive-logo" target="_blank"
          class="text-md">based on PR from Menci</a>
      </div>
    </section>
  </footer> -->

<footer class="">
    <div class="card-body">
      <div lass="w-full mx-auto my-8 sm:w-96 px-4">
        <!-- <div class="mt-4 flex items-center rounded-lg bg-white px-3 py-3 shadow-lg"> -->
            <i class="fa fa-code text-primary me-5"></i>
            <marquee>
                Phát triển bởi
                <a href="https://luanori.space">
                    <span class="text-danger-600 font-bold">[LuanOri♪ヽITₓ₂]</span>
            </marquee>
            Version: <span id="version-display">Loading...</span>
        </div>
</footer>
  
<script>
        // Hàm kiểm tra phiên bản từ server
        function checkVersion() {
            const currentVersion = "1.0.0";  // Phiên bản hiện tại của bạn

            // Hiển thị phiên bản hiện tại trong footer
            document.getElementById('version-display').textContent = currentVersion;

            // Lấy thông tin phiên bản từ file version.txt trên server
            fetch('https://luanori.space/version.txt')
                .then(response => {
                    if (response.ok) {
                        return response.text(); // Nếu trả về OK, lấy nội dung
                    }
                    throw new Error('Không thể lấy thông tin phiên bản từ server');
                })
                .then(serverVersion => {
                    console.log("Phiên bản từ server: " + serverVersion);
                    // Kiểm tra xem phiên bản server có mới hơn hay không
                    if (compareVersions(serverVersion, currentVersion) > 0) {
                        // Nếu phiên bản trên server mới hơn, hiển thị popup
                        document.getElementById('version-popup').style.display = 'flex';
                    }
                })
                .catch(error => {
                    console.error('Lỗi khi kiểm tra phiên bản:', error);
                });
        }

        // Hàm so sánh phiên bản (ví dụ: 1.0.2 > 1.0.1)
        function compareVersions(version1, version2) {
            const v1Parts = version1.split('.').map(num => parseInt(num));
            const v2Parts = version2.split('.').map(num => parseInt(num));

            for (let i = 0; i < Math.max(v1Parts.length, v2Parts.length); i++) {
                const v1 = v1Parts[i] || 0; // Nếu thiếu phần nào thì coi là 0
                const v2 = v2Parts[i] || 0;
                if (v1 < v2) return -1;
                if (v1 > v2) return 1;
            }
            return 0; // Nếu giống nhau
        }

        // Đóng popup khi nhấn nút "Đóng"
        document.getElementById('close-popup').onclick = function () {
            document.getElementById('version-popup').style.display = 'none';
        };

        // Gọi hàm kiểm tra phiên bản khi trang web load
        window.onload = checkVersion;
    </script>
  
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
